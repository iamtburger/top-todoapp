(()=>{"use strict";class e{constructor(e,t){this.name=e,this.description=t||"",this.tasks=[],this.id=((e=21)=>{let t="",s=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=63&s[e];t+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return t})()}}class t{constructor(e,t,s,o){this.name=e,this.description=t||"",this.deadline=s,this.priority=o||0}}let s=[],o=new class{constructor(){this.createProject=this.createProject.bind(this)}searchElement(e,t){return e.map((e=>e.id)).indexOf(t)}removeElement(e,t){let s=this.searchElement(e,t);e.splice(s,1)}createProject(t){const s=document.querySelector("#project-name").value,o=document.querySelector("#project-description").value;let r=new e(s,o);t.push(r),localStorage.setItem("projects",JSON.stringify(t)),this.showProjects(t),document.querySelector("#project-name").value="",document.querySelector("#project-description").value=""}showProjects(e){let t=document.querySelector("#projects"),s=e.map((function(e,t){return`\n                    <li data-id="${e.id}" class="project-name">\n                        <p>${e.name}</p>\n                    </li>\n                `})).join("");t.innerHTML=s,document.querySelectorAll(".project-name").forEach((t=>t.addEventListener("click",(()=>this.showTasks(e,t.dataset.id)))))}showTasks(e,s){let o=this.searchElement(e,s),r=document.querySelector("#tasks"),n=e[o].tasks.map((function(e,t){return`\n                <div data-id="${e.id}" class"task">\n                    <p>${e.name}</p>\n                </div>\n            `})).join("");r.innerHTML=n+'\n            <div>\n                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#taskModal">\n                    Add New Task\n                </button>\n            </div>\n        ',document.querySelector("#create-task").addEventListener("click",(()=>{const r=document.querySelector("#task-name").value,n=document.querySelector("#task-description").value;let c=new t(r,n);e[o].tasks.push(c),localStorage.setItem("projects",JSON.stringify(e)),document.querySelector("#task-name").value="",document.querySelector("#task-description").value="",this.showTasks(e,s)}))}};if(localStorage.getItem("projects"))s=JSON.parse(localStorage.getItem("projects")),console.log(s[0].id);else{let o=new e("Default Project","It's here so you know how this works.");s.push(o);let r=new t("Default Task","Description for Default Task","2021",1);s[0].tasks.push(r),localStorage.setItem("projects",JSON.stringify(s)),console.log("new"+s)}o.showProjects(s),document.querySelector("#create-project").addEventListener("click",(()=>o.createProject(s)))})();